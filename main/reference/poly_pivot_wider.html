<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Transforming data.frame with multiple Data Column into Wide Format — poly_pivot_wider • dunlin</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Transforming data.frame with multiple Data Column into Wide Format — poly_pivot_wider"><meta property="og:description" content="Transforming data.frame with multiple Data Column into Wide Format"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dunlin</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9008</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Reformatting.html">Reformatting</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" href="https://insightsengineering.github.io/dunlin/main">main</a> </div></li>
<!-- end dropdown for versions -->
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/insightsengineering/dunlin" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transforming data.frame with multiple Data Column into Wide Format</h1>
    
    <div class="hidden name"><code>poly_pivot_wider.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Transforming data.frame with multiple Data Column into Wide Format</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">poly_pivot_wider</span><span class="op">(</span><span class="va">data</span>, <span class="va">id</span>, <span class="va">param_from</span>, <span class="va">value_from</span>, labels_from <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>(<code>data.frame</code>) to be pivoted.</p></dd>


<dt>id</dt>
<dd><p>(<code>character</code>) the name of the columns whose combination uniquely identify the observations.</p></dd>


<dt>param_from</dt>
<dd><p>(<code>character</code>) the name of the columns containing the names of the parameters to be pivoted. The
unique values in this column will become column names in the output.</p></dd>


<dt>value_from</dt>
<dd><p>(<code>character</code>) the name of the column containing the values that will populate the output.</p></dd>


<dt>labels_from</dt>
<dd><p>(<code>character</code>) the name of the column congaing the labels of the new columns. from. If not
provided, the labels will be equal to the column names. When several labels are available for the same column, the
first one will be selected.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>list</code> of <code>data.frame</code> in a wide format with label attribute attached to each columns.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function is adapted to cases where the data are distributed in several columns while the name of the
parameter is in one. Typical example is <code>adsub</code> where numeric data are stored in <code>AVAL</code> while categorical data are
in <code>AVALC</code>.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">test_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  the_obs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  the_obs2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ax"</span>, <span class="st">"Ax"</span>, <span class="st">"Ax"</span>, <span class="st">"Bx"</span>, <span class="st">"Bx"</span>, <span class="st">"Bx"</span>, <span class="st">"Cx"</span>, <span class="st">"Dx"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  the_param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"weight"</span>, <span class="st">"height"</span>, <span class="st">"gender"</span>, <span class="st">"weight"</span>, <span class="st">"gender"</span>, <span class="st">"height"</span>, <span class="st">"height"</span>, <span class="st">"precondition"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  the_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Weight (Kg)"</span>, <span class="st">"Height (cm)"</span>, <span class="st">"Gender"</span>, <span class="st">"Weight (Kg)"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Gender"</span>, <span class="st">"Height (cm)"</span>, <span class="st">"Height (cm)"</span>, <span class="st">"Pre-condition"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  the_val <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">65</span>, <span class="fl">165</span>, <span class="cn">NA</span>, <span class="fl">66</span>, <span class="cn">NA</span>, <span class="fl">166</span>, <span class="fl">155</span>, <span class="cn">NA</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  the_val2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">65</span>, <span class="fl">165</span>, <span class="st">"M"</span>, <span class="fl">66</span>, <span class="st">"F"</span>, <span class="fl">166</span>, <span class="fl">155</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">poly_pivot_wider</span><span class="op">(</span><span class="va">test_data</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"the_obs"</span>, <span class="st">"the_obs2"</span><span class="op">)</span>, <span class="st">"the_param"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"the_val"</span>, <span class="st">"the_val2"</span><span class="op">)</span>, <span class="st">"the_label"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $the_val</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   the_obs the_obs2 height weight</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       A       Ax    165     65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       B       Bx    166     66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       C       Cx    155     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       D       Dx     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $the_val2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   the_obs the_obs2 gender height precondition weight</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       A       Ax      M    165         &lt;NA&gt;     65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       B       Bx      F    166         &lt;NA&gt;     66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       C       Cx   &lt;NA&gt;    155         &lt;NA&gt;   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       D       Dx   &lt;NA&gt;   &lt;NA&gt;         TRUE   &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/funprog.html" class="external-link">Reduce</a></span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">u</span>, <span class="va">v</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">u</span>, <span class="va">v</span>, all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   the_obs the_obs2 height weight gender precondition</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       A       Ax    165     65      M         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       B       Bx    166     66      F         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       C       Cx    155     NA   &lt;NA&gt;         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       D       Dx     NA     NA   &lt;NA&gt;         TRUE</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Benoit Falquet, F. Hoffmann-La Roche AG.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  


  

  </body></html>

